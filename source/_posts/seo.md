---
title: 搜索引擎优化
date: 2025-04-25 23:31:42
tags: [SEO]
categories: [SEO]
---

## SPA（single page application）

- 单页面程序优点：
  - 只需要加载一次
    - SPA 应用程序只需要在第一次请求时加载页面，页面切换不需要重新加载，而传统的 Web 应用程序请求时都需要重新加载页面。因此 SPA 页面加载速度要比传统 Web 应用程序块
  - 更好的用户体验
    - SPA 提供类似于桌面或移动应用程序的体验，用户切换页面不必重新加载新页面
    - 切换页面只是内容发生改变，页面并没有重新加载，从而体验变得更流畅
  - 可轻松的构建功能丰富的 Web 应用程序
- 缺点
  - SPA 应用默认返回一个空的 HTML 页面，不利于 SEO（search engine optimization）
  - 首屏加载资源过大时，一样会影响首屏的渲染
  - 不利于构建复杂的项目，复杂应用程序的大文件可能变得难以维护



## 搜索引擎优化

1. 语义性 HTML 标签
   - 标题采用 `<h1>` ，一个页面只有一个；副标题采用 `<h2>` 到 `<h6>` 
   - 不要过度使用 h 标签，多次使用不会增加 SEO
   - 段落使用 `<p>` ，列表使用 `<ul>` ，并且 li 只放在 ul 中
2. 每个页面需要包含：标题 + 内部链接
   - 每个页面对应的 title，同一个网站所有页面都有内链接可以指向首页
3. 确保链接可以抓取
4. meta 标签优化：设置 description keywords 关键字
5. 文本标签和 img
   - 比如 `<b>` 和 `<strong>` 加粗文本的标签，爬虫也会关注到这个内容
   - img 标签设置 alt 属性，图片加载失败，爬虫会取 alt 内容
6. robots.txt 文件：规定爬虫可以爬取哪些网址
7. sitemap.xml 站点地图：在站点地图中列出所有网页，确保爬虫不会漏掉某些网页



## 静态站点生成 (SSG, Static site generate)

- SSG 特点
  - SSG 应用一般在构建阶段就确定了网站的内容
  - 如果网站的内容更新了，那么必须重新再次构建和部署
  - 构建 SSG 应用常见的库和框架有：Vue Nuxt、React Next.js 等
- SSG 优点：
  - 访问速度快，因为每个页面都是在构建阶段就已经提前生成好了
  - 直接给浏览器返回静态的 HTML，也有利于 SEO
  - SSG 应用仍然保留了 SPA 应用的特性，比如：前端路由、响应式数据、虚拟 DOM 等
- SSG 的缺点：
  - 页面都是静态，不利于展示实时性的内容，实时性的更适合 SSR
  - 如果站点内容更新了，那么必须重新再次构建和部署



## 服务端渲染（SSR，Server Side Render）

- SSR 流程

  TODO

- SSR 在服务端渲染页面，并将渲染好的 HTML 返回给浏览器呈现

  - SSR 应用的页面是在服务端渲染的，用户每请求一个 SSR 页面都会现在服务端进行渲染，然后将渲染好的界面，返回给浏览器呈现
  - 构建 SSR 应用常见的库和框架有：Vue Nuxt、React Next.js 等

- 服务端渲染原理：

  ![](ssr.png)



- 优点：
  - 更快的首屏渲染速度
    - 浏览器显示静态页面的内容要比 JavaScript 动态生成的内容快得多
    - 当用户访问首页时，可立即返回静态页面内容，而不需要等待浏览器先加载完整个应用程序
  - 更好的 SEO
    - 爬虫最擅长爬取静态的 HTML 页面，服务器端直接返回一个静态的 HTML 给浏览器
    - 这样有利于爬虫快速抓取网页内容，并编入索引，有利于SEO
  - SSR 应用程序在 Hydration 之后依然可以保留 Web 应用程序的交互性，比如：前端路由，响应式数据，虚拟 DOM 等
- 缺点
  - SSR 通常需要对服务器进行更多 API 调用，以及**在服务器渲染需要消耗更多的服务器资源**，成本高
  - **增加了开发的成本**，用户需要关心哪些代码是运行在服务器端，哪些代码是运行在浏览器端
  - SSR 配置站点的缓存通常比 SPA 要复杂一些



## 跨请求状态污染

在 SPA 中，整个声明周期中只有一个 App 对象实例 或 一个 Router 对象实例 或 一个 Store 对象实例都是可以的，因为每个用户在使用浏览器访问 SPA 应用时，应用模块都会重新初始化，这也是一种单例模式

然后，在 SSR 环境下，App 应用模块通常只在服务器启动时初始化一次，同一个模块会在多个服务器请求之间被复用，而我们的单例状态对象也一样， 会在多个请求之间被服用：

- 当某个用户对共享的单例状态进行修改，那么这个状态可能意外地泄露给另一个在请求的用户
- 这种情况为：**跨请求状态污染** 

为了避免这种跨请去状态污染，SSR 的解决方案是：

- 可以在每个请求中 **为整个应用创建一个全新的实例** ，包括后面的 router 和 store 等实例
- 所以在创建 App 或 路由 或 Store 对象是都是使用一个函数来创建，保证每个请求都会创建一个全新的实例
- 缺点：**需要消耗更多的服务器资源** 



[TODO](https://www.alipan.com/drive/file/all/backup/66f25e78cfc9688d5138492888a6d38a917da9ae) :  

全部文件›备份文件›资源文件›18-后端渲染-SSR-Vue-React›day135_邂逅SSR-从零搭建SSR应用

827--day135\_邂逅SSR-从零搭建SSR应用-Nuxt初体验\_12-(掌握)-Vue3 SSR集成路由.mp4 